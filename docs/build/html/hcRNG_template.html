

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>2.1. hcRNG_template File Reference &mdash; hcRNG   documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="hcRNG   documentation" href="index.html"/>
        <link rel="up" title="2. hcRNG API Reference" href="API_reference.html"/>
        <link rel="next" title="2.2. hcRNG TYPES" href="DataStructures.html"/>
        <link rel="prev" title="2. hcRNG API Reference" href="API_reference.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> hcRNG
          

          
          </a>

          
            
            
              <div class="version">
                 
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul>
<li class="toctree-l1"><a class="reference internal" href="Getting_Started.html">1. Getting Started</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="API_reference.html">2. hcRNG API Reference</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="">2.1. hcRNG_template File Reference</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#enumerations">2.1.1. Enumerations</a></li>
<li class="toctree-l3"><a class="reference internal" href="#data-structures">2.1.2. Data Structures</a></li>
<li class="toctree-l3"><a class="reference internal" href="#functions">2.1.3. Functions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#helper-functions">2.1.3.1. Helper functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#stream-creators">2.1.3.2. Stream Creators</a></li>
<li class="toctree-l4"><a class="reference internal" href="#stream-allocation-destruction-and-initialization">2.1.3.3. Stream Allocation, Destruction and Initialization</a></li>
<li class="toctree-l4"><a class="reference internal" href="#stream-output">2.1.3.4. Stream Output</a></li>
<li class="toctree-l4"><a class="reference internal" href="#stream-navigation">2.1.3.5. Stream Navigation</a></li>
<li class="toctree-l4"><a class="reference internal" href="#work-functions">2.1.3.6. Work Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#miscellaneous-functions">2.1.3.7. Miscellaneous Functions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#detailed-description">2.1.4. Detailed Description</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#the-mrg31k3p-generator">2.1.4.1. The MRG31k3p Generator</a></li>
<li class="toctree-l4"><a class="reference internal" href="#the-mrg32k3a-generator">2.1.4.2. The MRG32k3a Generator</a></li>
<li class="toctree-l4"><a class="reference internal" href="#the-lfsr113-generator">2.1.4.3. The LFSR113 Generator</a></li>
<li class="toctree-l4"><a class="reference internal" href="#the-philox-432-10-generator">2.1.4.4. The Philox-4×32-10 Generator</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#function-documentation">2.1.5. Function Documentation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#hcrngcopystreamcreator">2.1.5.1. hcrngCopyStreamCreator()</a></li>
<li class="toctree-l4"><a class="reference internal" href="#hcrngdestroystreamcreator">2.1.5.2. hcrngDestroyStreamCreator()</a></li>
<li class="toctree-l4"><a class="reference internal" href="#hcrngrewindstreamcreator">2.1.5.3. hcrngRewindStreamCreator()</a></li>
<li class="toctree-l4"><a class="reference internal" href="#hcrngsetbasecreatorstate">2.1.5.4. hcrngSetBaseCreatorState()</a></li>
<li class="toctree-l4"><a class="reference internal" href="#hcrngchangestreamsspacing">2.1.5.5. hcrngChangeStreamsSpacing()</a></li>
<li class="toctree-l4"><a class="reference internal" href="#hcrngallocstreams">2.1.5.6. hcrngAllocStreams()</a></li>
<li class="toctree-l4"><a class="reference internal" href="#hcrngdestroystreams">2.1.5.7. hcrngDestroyStreams()</a></li>
<li class="toctree-l4"><a class="reference internal" href="#hcrngcreatestreams">2.1.5.8. hcrngCreateStreams()</a></li>
<li class="toctree-l4"><a class="reference internal" href="#hcrngcreateoverstreams">2.1.5.9. hcrngCreateOverStreams()</a></li>
<li class="toctree-l4"><a class="reference internal" href="#hcrngcopystreams">2.1.5.10. hcrngCopyStreams()</a></li>
<li class="toctree-l4"><a class="reference internal" href="#hcrngcopyoverstreams">2.1.5.11. hcrngCopyOverStreams()</a></li>
<li class="toctree-l4"><a class="reference internal" href="#hcrngrandomu01">2.1.5.12. hcrngRandomU01()</a></li>
<li class="toctree-l4"><a class="reference internal" href="#hcrngrandominteger">2.1.5.13. hcrngRandomInteger()</a></li>
<li class="toctree-l4"><a class="reference internal" href="#hcrngrandomu01array">2.1.5.14. hcrngRandomU01Array()</a></li>
<li class="toctree-l4"><a class="reference internal" href="#hcrngrandomintegerarray">2.1.5.15. hcrngRandomIntegerArray()</a></li>
<li class="toctree-l4"><a class="reference internal" href="#hcrngrewindstreams">2.1.5.16. hcrngRewindStreams()</a></li>
<li class="toctree-l4"><a class="reference internal" href="#hcrngrewindsubstreams">2.1.5.17. hcrngRewindSubstreams()</a></li>
<li class="toctree-l4"><a class="reference internal" href="#hcrngforwardtonextsubstreams">2.1.5.18. hcrngForwardToNextSubstreams()</a></li>
<li class="toctree-l4"><a class="reference internal" href="#hcrngmakesubstreams">2.1.5.19. hcrngMakeSubstreams()</a></li>
<li class="toctree-l4"><a class="reference internal" href="#hcrngmakeoversubstreams">2.1.5.20. hcrngMakeOverSubstreams()</a></li>
<li class="toctree-l4"><a class="reference internal" href="#hcrngadvancestreams">2.1.5.21. hcrngAdvanceStreams()</a></li>
<li class="toctree-l4"><a class="reference internal" href="#hcrngdevicerandomu01array">2.1.5.22. hcrngDeviceRandomU01Array()</a></li>
<li class="toctree-l4"><a class="reference internal" href="#hcrngwritestreaminfo">2.1.5.23. hcrngWriteStreamInfo()</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="DataStructures.html">2.2. hcRNG TYPES</a></li>
<li class="toctree-l2"><a class="reference internal" href="DataStructures.html#enumerations">2.2.1. Enumerations</a></li>
<li class="toctree-l2"><a class="reference internal" href="DataStructures.html#data-structures">2.2.2. Data Structures</a></li>
<li class="toctree-l2"><a class="reference internal" href="DataStructures.html#helper-functions">2.2.3. Helper Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples.html">2.3. Examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="bibliography.html">2.4. Bibliography</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">hcRNG</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          





<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
          <li><a href="API_reference.html">2. hcRNG API Reference</a> &raquo;</li>
      
    <li>2.1. hcRNG_template File Reference</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/hcRNG_template.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="hcrng-template-file-reference">
<h1>2.1. hcRNG_template File Reference<a class="headerlink" href="#hcrng-template-file-reference" title="Permalink to this headline">¶</a></h1>
<hr class="docutils" />
<div class="line-block">
<div class="line">Template of the specialized interface for specific generators  <a class="reference external" href="hcRNG_template.html#detailed-description">More...</a></div>
<div class="line"><br /></div>
<div class="line">#include &lt;hcRNG.h&gt;</div>
<div class="line">#include &lt;stdio.h&gt;</div>
<div class="line"><br /></div>
</div>
<div class="section" id="enumerations">
<h2>2.1.1. Enumerations<a class="headerlink" href="#enumerations" title="Permalink to this headline">¶</a></h2>
<hr class="docutils" />
<ul>
<li><p class="first">enum  <strong>hcrngStatus_</strong></p>
<p>typedef enum <strong>hcrngStatus_</strong> hcrngStatus</p>
</li>
</ul>
<blockquote>
<div>Error codes. <a class="reference external" href="DataStructures.html#hcrng-status-hcrngstatus">More...</a></div></blockquote>
</div>
<div class="section" id="data-structures">
<h2>2.1.2. Data Structures<a class="headerlink" href="#data-structures" title="Permalink to this headline">¶</a></h2>
<hr class="docutils" />
<ul class="simple">
<li>struct <strong>hcrngStreamState</strong></li>
</ul>
<blockquote>
<div>Stream state [host/device]. <a class="reference external" href="DataStructures.html#hcrngstreamstate">More...</a></div></blockquote>
<ul class="simple">
<li>struct <strong>hcrngStream</strong></li>
</ul>
<blockquote>
<div>Stream object [host/device]. <a class="reference external" href="DataStructures.html#hcrngstream">More...</a></div></blockquote>
<ul class="simple">
<li>struct <strong>hcrngStreamCreator</strong></li>
</ul>
<blockquote>
<div>Stream creator object. <a class="reference external" href="DataStructures.html#hcrngstreamcreator">More...</a></div></blockquote>
</div>
<div class="section" id="functions">
<h2>2.1.3. Functions<a class="headerlink" href="#functions" title="Permalink to this headline">¶</a></h2>
<hr class="docutils" />
<div class="section" id="helper-functions">
<h3>2.1.3.1. Helper functions<a class="headerlink" href="#helper-functions" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>const char* <strong>hcrngGetErrorString</strong> ()</li>
</ul>
<blockquote>
<div>Retrieve the last error message. <a class="reference external" href="DataStructures.html#hcrnggeterrorstring">More...</a></div></blockquote>
<ul class="simple">
<li>const char* <strong>hcrngGetLibraryRoot</strong> ()</li>
</ul>
<blockquote>
<div>Retrieve the library installation path. <a class="reference external" href="DataStructures.html#hcrnggetlibraryroot">More...</a></div></blockquote>
</div>
<div class="section" id="stream-creators">
<h3>2.1.3.2. Stream Creators<a class="headerlink" href="#stream-creators" title="Permalink to this headline">¶</a></h3>
<p>Functions to create, destroy and modify stream creator objects (factory pattern).</p>
<ul class="simple">
<li>hcrngStreamCreator*  <strong>hcrngCopyStreamCreator</strong> (const hcrngStreamCreator* creator, <a class="reference external" href="DataStructures.html#hcrng-status-hcrngstatus">hcrngStatus*</a> err)</li>
</ul>
<blockquote>
<div>Duplicate an existing stream creator object. <a class="reference external" href="hcRNG_template.html#hcrngcopystreamcreator">More...</a></div></blockquote>
<ul class="simple">
<li><a class="reference external" href="DataStructures.html#hcrng-status-hcrngstatus">hcrngStatus</a>  <strong>hcrngDestroyStreamCreator</strong> (hcrngStreamCreator* creator)</li>
</ul>
<blockquote>
<div>Destroy a stream creator object. <a class="reference external" href="hcRNG_template.html#hcrngdestroystreamcreator">More...</a></div></blockquote>
<ul class="simple">
<li><a class="reference external" href="DataStructures.html#hcrng-status-hcrngstatus">hcrngStatus</a>  <strong>hcrngRewindStreamCreator</strong> (hcrngStreamCreator* creator)</li>
</ul>
<blockquote>
<div>Reset a stream creator to its original initial state. <a class="reference external" href="hcRNG_template.html#hcrngrewindstreamcreator">More...</a></div></blockquote>
<ul class="simple">
<li><a class="reference external" href="DataStructures.html#hcrng-status-hcrngstatus">hcrngStatus</a>  <strong>hcrngSetBaseCreatorState</strong> (hcrngStreamCreator* creator, const hcrngStreamState* baseState)</li>
</ul>
<blockquote>
<div>Change the base stream state of a stream creator. <a class="reference external" href="hcRNG_template.html#hcrngsetbasecreatorstate">More...</a></div></blockquote>
<ul class="simple">
<li><a class="reference external" href="DataStructures.html#hcrng-status-hcrngstatus">hcrngStatus</a>  <strong>hcrngChangeStreamsSpacing</strong> (hcrngStreamCreator* creator, int e, int c)</li>
</ul>
<blockquote>
<div>Change the spacing between successive streams. <a class="reference external" href="hcRNG_template.html#hcrngchangestreamsspacing">More...</a></div></blockquote>
</div>
<div class="section" id="stream-allocation-destruction-and-initialization">
<h3>2.1.3.3. Stream Allocation, Destruction and Initialization<a class="headerlink" href="#stream-allocation-destruction-and-initialization" title="Permalink to this headline">¶</a></h3>
<p>Functions to create or destroy random streams and arrays of random streams.</p>
<ul class="simple">
<li>hcrngStream* <strong>hcrngAllocStreams</strong> (size_t count, size_t* bufSize, <a class="reference external" href="DataStructures.html#hcrng-status-hcrngstatus">hcrngStatus*</a> err)</li>
</ul>
<blockquote>
<div>Reserve memory for one or more stream objects. <a class="reference external" href="hcRNG_template.html#hcrngallocstreams">More...</a></div></blockquote>
<ul class="simple">
<li><a class="reference external" href="DataStructures.html#hcrng-status-hcrngstatus">hcrngStatus</a> <strong>hcrngDestroyStreams</strong> (hcrngStream* streams)</li>
</ul>
<blockquote>
<div>Destroy one or many stream objects. <a class="reference external" href="hcRNG_template.html#hcrngdestroystreams">More...</a></div></blockquote>
<ul class="simple">
<li>hcrngStream* <strong>hcrngCreateStreams</strong> (hcrngStreamCreator* creator, size_t count, size_t* bufSize, <a class="reference external" href="DataStructures.html#hcrng-status-hcrngstatus">hcrngStatus*</a> err)</li>
</ul>
<blockquote>
<div>Allocate memory for and create new RNG stream objects. <a class="reference external" href="hcRNG_template.html#hcrngcreatestreams">More...</a></div></blockquote>
<ul class="simple">
<li><a class="reference external" href="DataStructures.html#hcrng-status-hcrngstatus">hcrngStatus</a> <strong>hcrngCreateOverStreams</strong> (hcrngStreamCreator* creator, size_t count, hcrngStream* streams)</li>
</ul>
<blockquote>
<div>Create new RNG stream objects in already allocated memory. <a class="reference external" href="hcRNG_template.html#hcrngcreateoverstreams">More...</a></div></blockquote>
<ul class="simple">
<li>hcrngStream* <strong>hcrngCopyStreams</strong> (size_t count, const hcrngStream* streams, <a class="reference external" href="DataStructures.html#hcrng-status-hcrngstatus">hcrngStatus*</a> err)</li>
</ul>
<blockquote>
<div>Clone RNG stream objects. <a class="reference external" href="hcRNG_template.html#hcrngcopystreams">More...</a></div></blockquote>
<ul class="simple">
<li><a class="reference external" href="DataStructures.html#hcrng-status-hcrngstatus">hcrngStatus</a> <strong>hcrngCopyOverStreams</strong> (size_t count, hcrngStream* destStreams, const hcrngStream* srcStreams)</li>
</ul>
<blockquote>
<div>Copy RNG stream objects in already allocated memory [device]. <a class="reference external" href="hcRNG_template.html#hcrngcopyoverstreams">More...</a></div></blockquote>
</div>
<div class="section" id="stream-output">
<h3>2.1.3.4. Stream Output<a class="headerlink" href="#stream-output" title="Permalink to this headline">¶</a></h3>
<p>Functions to read successive values from a random stream.</p>
<ul class="simple">
<li>double <strong>hcrngRandomU01</strong> (hcrngStream* stream)</li>
</ul>
<blockquote>
<div>Generate the next random value in (0,1) [device]. <a class="reference external" href="hcRNG_template.html#hcrngrandomu01">More...</a></div></blockquote>
<ul class="simple">
<li>int  <strong>hcrngRandomInteger</strong> (hcrngStream* stream, int i, int j)</li>
</ul>
<blockquote>
<div>Generate the next random integer value [device]. <a class="reference external" href="hcRNG_template.html#hcrngrandominteger">More...</a></div></blockquote>
<ul class="simple">
<li><a class="reference external" href="DataStructures.html#hcrng-status-hcrngstatus">hcrngStatus</a> <strong>hcrngRandomU01Array</strong> (hcrngStream* stream, size_t count, double* buffer)</li>
</ul>
<blockquote>
<div>Fill an array with successive random values in (0,1) [device]. <a class="reference external" href="hcRNG_template.html#hcrngrandomu01array">More...</a></div></blockquote>
<ul class="simple">
<li><a class="reference external" href="DataStructures.html#hcrng-status-hcrngstatus">hcrngStatus</a> <strong>hcrngRandomIntegerArray</strong> (hcrngStream* stream, int i, int j, size_t count, int* buffer)</li>
</ul>
<blockquote>
<div>Fill an array with successive random integer values [device]. <a class="reference external" href="hcRNG_template.html#hcrngrandomintegerarray">More...</a></div></blockquote>
</div>
<div class="section" id="stream-navigation">
<h3>2.1.3.5. Stream Navigation<a class="headerlink" href="#stream-navigation" title="Permalink to this headline">¶</a></h3>
<p>Functions to roll back or advance streams by many steps.</p>
<ul class="simple">
<li><a class="reference external" href="DataStructures.html#hcrng-status-hcrngstatus">hcrngStatus</a> <strong>hcrngRewindStreams</strong> (size_t count, hcrngStream* streams)</li>
</ul>
<blockquote>
<div>Reinitialize streams to their initial states [device]. <a class="reference external" href="hcRNG_template.html#hcrngrewindstreams">More...</a></div></blockquote>
<ul class="simple">
<li><a class="reference external" href="DataStructures.html#hcrng-status-hcrngstatus">hcrngStatus</a> <strong>hcrngRewindSubstreams</strong> (size_t count, hcrngStream* streams)</li>
</ul>
<blockquote>
<div>Reinitialize streams to their initial substream states [device]. <a class="reference external" href="hcRNG_template.html#hcrngrewindsubstreams">More...</a></div></blockquote>
<ul class="simple">
<li><a class="reference external" href="DataStructures.html#hcrng-status-hcrngstatus">hcrngStatus</a> <strong>hcrngForwardToNextSubstreams</strong> (size_t count, hcrngStream* streams)</li>
</ul>
<blockquote>
<div>Advance streams to the next substreams [device]. <a class="reference external" href="hcRNG_template.html#hcrngforwardtonextsubstreams">More...</a></div></blockquote>
<ul class="simple">
<li>hcrngStream* <strong>hcrngMakeSubstreams</strong> (hcrngStream* stream, size_t count, size_t* bufSize, <a class="reference external" href="DataStructures.html#hcrng-status-hcrngstatus">hcrngStatus*</a> err)</li>
</ul>
<blockquote>
<div>Allocate and make an array of substreams of a stream. <a class="reference external" href="hcRNG_template.html#hcrngmakesubstreams">More...</a></div></blockquote>
<ul class="simple">
<li><a class="reference external" href="DataStructures.html#hcrng-status-hcrngstatus">hcrngStatus</a> <strong>hcrngMakeOverSubstreams</strong> (hcrngStream* stream, size_t count, hcrngStream* substreams)</li>
</ul>
<blockquote>
<div>Make an array of substreams of a stream. <a class="reference external" href="hcRNG_template.html#hcrngmakeoversubstreams">More...</a></div></blockquote>
<ul class="simple">
<li><a class="reference external" href="DataStructures.html#hcrng-status-hcrngstatus">hcrngStatus</a> <strong>hcrngAdvanceStreams</strong> (size_t count, hcrngStream* streams, int e, int c)</li>
</ul>
<blockquote>
<div>Advance the state of streams by many steps. <a class="reference external" href="hcRNG_template.html#hcrngadvancestreams">More...</a></div></blockquote>
</div>
<div class="section" id="work-functions">
<h3>2.1.3.6. Work Functions<a class="headerlink" href="#work-functions" title="Permalink to this headline">¶</a></h3>
<p>Kernel functions to generate Random numbers.</p>
<ul class="simple">
<li><a class="reference external" href="DataStructures.html#hcrng-status-hcrngstatus">hcrngStatus</a> <strong>hcrngDeviceRandomU01Array_single</strong> (hc::accelerator_view &amp;accl_view, size_t streamCount, hcrngStream* streams, size_t numberCount, float* outBuffer, int streamlength = 0, size_t streams_per_thread = 1)</li>
<li><a class="reference external" href="DataStructures.html#hcrng-status-hcrngstatus">hcrngStatus</a> <strong>hcrngDeviceRandomU01Array_double</strong> (hc::accelerator_view &amp;accl_view, size_t streamCount, hcrngStream* streams, size_t numberCount, double* outBuffer, int streamlength = 0, size_t streams_per_thread = 1)</li>
</ul>
<p>The last two arguments are default arguments and can be used in case of multistream usage. <a class="reference external" href="hcRNG_template.html#hcrngdevicerandomu01array">More...</a></p>
</div>
<div class="section" id="miscellaneous-functions">
<h3>2.1.3.7. Miscellaneous Functions<a class="headerlink" href="#miscellaneous-functions" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="DataStructures.html#hcrng-status-hcrngstatus">hcrngStatus</a> <strong>hcrngWriteStreamInfo</strong> (const hcrngStream* stream, FILE* file)</li>
</ul>
<blockquote>
<div>Format and output information about a stream object to a file. <a class="reference external" href="hcRNG_template.html#hcrngwritestreaminfo">More...</a></div></blockquote>
</div>
</div>
<div class="section" id="detailed-description">
<h2>2.1.4. Detailed Description<a class="headerlink" href="#detailed-description" title="Permalink to this headline">¶</a></h2>
<hr class="docutils" />
<p>Template of the specialized interface for specific generators.</p>
<p>The function and type names in this API all start with hcrng. In each specific implementation, this prefix is expanded to a specific prefix; e.g., hcrngMrg31k3p for the MRG31k3p generator.</p>
<p>In the standard case, streams and substreams are defined as in <a class="reference external" href="bibliography.html">[10]</a>, <a class="reference external" href="bibliography.html">[2]</a>, <a class="reference external" href="bibliography.html">[5]</a> . The sequence of successive states of the base RNG over its entire period of length ρ is divided into streams whose starting points are Z steps apart. The sequence for each stream (of length Z) is further divided into substreams of length W. The integers Z and W have default values that have been carefully selected to avoid detectable dependence between successive streams and substreams, and are large enough to make sure that streams and substreams will not be exhausted in practice. It is strongly recommended to never change these values (even if the software allows it). The initial state of the first stream (the seed of the library) has a default value. It can be changed by invoking hcrngSetBaseCreatorState() before creating a first stream.</p>
<p>A stream object is a structure that contains the current state of the stream, its initial state (at the beginning of the stream), and the initial state of the current substream. Whenever the user creates a new stream, the software automatically jumps ahead by Z steps to find its initial state, and the three states in the stream object are set to it. The form of the state depends on the type of RNG.</p>
<p>Some functions are available on both the host and the devices (they can be used within a kernel) whereas others (such as stream creation) are available only on the host. Many functions are defined only for arrays of streams; for a single stream, it suffices to specify an array of size 1.When a kernel is called, one should pass a copy of the streams from the host to the global memory of the device. Another copy of the stream state uses it in the kernel code to generate random numbers.</p>
<p>To use the hcRNG library from within a user-defined kernel, the user must include the hcRNG header file corresponding to the desired RNG via an include directive. Other specific preprocessor macros can be placed before including the header file to change settings of the library when the default values are not suitable for the user. The following options are currently available:</p>
<div class="line-block">
<div class="line"><strong>HCRNG_SINGLE_PRECISION</strong> : With this option, all the random numbers returned by hcrngRandomU01() and hcrngRandomU01Array(), and generated by hcrngDeviceRandomU01Array(), will be of type float instead of double (the default setting). This option can be activated and affects all implemented RNGs.</div>
<div class="line"><br /></div>
</div>
<p>To generate single-precision floating point numbers also on the host, still using the MRG31k3p generator, the host code should contain:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c1">#define HCRNG_SINGLE_PRECISION</span>
<span class="c1">#include &lt;mrg31k3p.h&gt;</span>
</pre></div>
</div>
<p>The functions described here are all available on the host, in all implementations, unless specified otherwise. Only some of the functions and types are also available on the device in addition to the host; they are tagged with [device]. Other functions are only available on the device; they are tagged with [device-only]. Some functions return an error code in err.
Implemented RNG&#8217;s</p>
<p>The following table lists the RNG&#8217;s that are currently implemented in hcRNG with the name of the corresponding header file.</p>
<table border="1" class="docutils">
<colgroup>
<col width="29%" />
<col width="33%" />
<col width="39%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">RNG</th>
<th class="head">Prefix</th>
<th class="head">Host/Device Header File</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>MRG31k3p</td>
<td>Mrg31k3p</td>
<td>mrg31k3p.h</td>
</tr>
<tr class="row-odd"><td>MRG32k3a</td>
<td>Mrg32k3a</td>
<td>mrg32k3a.h</td>
</tr>
<tr class="row-even"><td>LFSR113</td>
<td>Lfsr113</td>
<td>lfsr113.h</td>
</tr>
<tr class="row-odd"><td>Philox-4×32-10</td>
<td>Philox432</td>
<td>philox432.h</td>
</tr>
</tbody>
</table>
<div class="section" id="the-mrg31k3p-generator">
<h3>2.1.4.1. The MRG31k3p Generator<a class="headerlink" href="#the-mrg31k3p-generator" title="Permalink to this headline">¶</a></h3>
<p>The MRG31k3p generator is defined in <a class="reference external" href="bibliography.html">[4]</a> . In its specific implementation, the function and type names start with hcrngMrg31k3p. For this RNG, a state is a vector of six 31-bit integers, represented internally as unsigned int. The entire period length of approximately 2^185 is divided into approximately 2^51 non-overlapping streams of length Z=2^134. Each stream is further partitioned into substreams of length W=2^72. The state (and seed) of each stream is a vector of six 31-bit integers. This size of state is appropriate for having streams running in work items on GPU cards, for example, while providing a sufficient period length for most applications.</p>
</div>
<div class="section" id="the-mrg32k3a-generator">
<h3>2.1.4.2. The MRG32k3a Generator<a class="headerlink" href="#the-mrg32k3a-generator" title="Permalink to this headline">¶</a></h3>
<p>MRG32k3a is a combined multiple recursive generator (MRG) proposed by L&#8217;Ecuyer <a class="reference external" href="bibliography.html">[7]</a>, implemented here in 64-bit integer arithmetic. This RNG has a period length of approximately 2^191, and is divided into approximately 2^64 non-overlapping streams of length Z=2^127, and each stream is subdivided in 2^51 substreams of length W=2^76. These are the same numbers as in <a class="reference external" href="bibliography.html">[5]</a> . The state of a stream at any given step is a six-dimensional vector of 32-bit integers, but those integers are stored as unsigned long (64-bit integers) in the present implementation (so they use twice the space). The generator has 32 bits of resolution. Note that in the original version proposed in <a class="reference external" href="bibliography.html">[7]</a> and <a class="reference external" href="bibliography.html">[5]</a>, the recurrences are implemented in double instead, and the state is stored in six 32-bit integers. The change in implementation is to avoid using double&#8217;s, which are not available on many GPU devices, and also because the 64-bit implementation is much faster than that in double when 64-bit integer arithmetic is available on the hardware.</p>
</div>
<div class="section" id="the-lfsr113-generator">
<h3>2.1.4.3. The LFSR113 Generator<a class="headerlink" href="#the-lfsr113-generator" title="Permalink to this headline">¶</a></h3>
<p>The LFSR113 generator is defined in <a class="reference external" href="bibliography.html">[8]</a>. In its implementation, the function and type names start with hcrngLfsr113. For this RNG, a state vector of four 31-bit integers, represented internally as unsigned int. The period length of approximately 2^113 is divided into approximately 2^23 non-overlapping streams of length Z=2^90. Each stream is further partitioned into 2^35 substreams of length W=2^55. Note that the functions hcrngLfsr113ChangeStreamsSpacing() and hcrngLfsr113AdvancedStreams() are not implemented in the current version.</p>
</div>
<div class="section" id="the-philox-432-10-generator">
<h3>2.1.4.4. The Philox-4×32-10 Generator<a class="headerlink" href="#the-philox-432-10-generator" title="Permalink to this headline">¶</a></h3>
<p>The counter-based Philox-4×32-10 generator is defined in <a class="reference external" href="bibliography.html">[11]</a>. Unlike the previous three generators, its design is not supported by a theoretical analysis of equidistribution. It has only been subjected to empirical testing with the TestU01 software <a class="reference external" href="bibliography.html">[3]</a> (the other three generators also have). In its implementation, the function and type names start with hcrngPhilox432. For this RNG, a state is a 128-bit counter with a 64-bit key, and a 2-bit index used to iterate over the four 32-bit outputs generated for each counter value. The counter is represented internally as a vector of four 32-bit unsigned int values and the index, as a single unsigned int value. In the current hcRNG version, the key is the same for all streams, so it is not stored in each stream object but rather hardcoded in the implementation. The period length of 2^130 is divided into 2^28 non-overlapping streams of length Z=2^102. Each stream is further partitioned into 2^36 substreams of length W=2^66. The key (all bits to 0), initial counter and order in which the four outputs per counter value are returned are chosen to generate the same values, in the same order, as Random123&#8217;s Engine module <a class="reference external" href="bibliography.html">[11]</a>, designed for use with the standard C++11 random library. Note that the function hcrngPhilox432ChangeStreamsSpacing() supports only values of c that are multiples of 4, with either e=0 or e ≥ 2.</p>
</div>
</div>
<div class="section" id="function-documentation">
<h2>2.1.5. Function Documentation<a class="headerlink" href="#function-documentation" title="Permalink to this headline">¶</a></h2>
<hr class="docutils" />
<div class="section" id="hcrngcopystreamcreator">
<h3>2.1.5.1. hcrngCopyStreamCreator()<a class="headerlink" href="#hcrngcopystreamcreator" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><div class="highlight"><pre>hcrngStreamCreator* hcrngCopyStreamCreator ( const hcrngStreamCreator *        creator,
                                             hcrngStatus *     err
                                           )
</pre></div>
</div>
<p>Duplicate an existing stream creator object.</p>
<p>Create an identical copy (a clone) of the stream creator creator. To create a copy of the default creator, put NULL as the creator parameter. All the new stream creators returned by hcrngCopyStreamCreator(NULL, NULL) will create the same sequence of random streams, unless the default stream creator is used to create streams between successive calls to this function.</p>
<table border="1" class="docutils">
<colgroup>
<col width="13%" />
<col width="19%" />
<col width="68%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">In/out</th>
<th class="head">Parameters</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>[in]</td>
<td>creator</td>
<td>Stream creator object to be copied, or NULL to copy
the default stream creator.</td>
</tr>
<tr class="row-odd"><td>[out]</td>
<td>err</td>
<td>Error status variable, or NULL.</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>Returns,</dt>
<dd>The newly created stream creator object.</dd>
</dl>
</div>
<div class="section" id="hcrngdestroystreamcreator">
<h3>2.1.5.2. hcrngDestroyStreamCreator()<a class="headerlink" href="#hcrngdestroystreamcreator" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><div class="highlight"><pre>hcrngStatus hcrngDestroyStreamCreator ( hcrngStreamCreator *   creator )
</pre></div>
</div>
<p>Destroy a stream creator object. Release the resources associated to a stream creator object.</p>
<table border="1" class="docutils">
<colgroup>
<col width="13%" />
<col width="19%" />
<col width="68%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">In/out</th>
<th class="head">Parameters</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>[out]</td>
<td>creator</td>
<td>Stream creator object to be destroyed.</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>Returns,</dt>
<dd>Error status</dd>
</dl>
</div>
<div class="section" id="hcrngrewindstreamcreator">
<h3>2.1.5.3. hcrngRewindStreamCreator()<a class="headerlink" href="#hcrngrewindstreamcreator" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><div class="highlight"><pre>hcrngStatus hcrngRewindStreamCreator ( hcrngStreamCreator *    creator )
</pre></div>
</div>
<p>Reset a stream creator to its original initial state, so it can re-create the same streams over again.</p>
<table border="1" class="docutils">
<colgroup>
<col width="13%" />
<col width="19%" />
<col width="68%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">In/out</th>
<th class="head">Parameters</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>[in]</td>
<td>creator</td>
<td>Stream creator object to be reset.</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>Returns,</dt>
<dd>Error status</dd>
</dl>
</div>
<div class="section" id="hcrngsetbasecreatorstate">
<h3>2.1.5.4. hcrngSetBaseCreatorState()<a class="headerlink" href="#hcrngsetbasecreatorstate" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><div class="highlight"><pre>hcrngStatus hcrngSetBaseCreatorState ( hcrngStreamCreator *    creator,
                                       const hcrngStreamState *        baseState
                                     )
</pre></div>
</div>
<p>Change the base stream state of a stream creator.</p>
<p>Set the base state of the stream creator, which can be seen as the seed of the underlying RNG. This will be the initial state (or seed) of the first stream created by this creator. Then, for most conventional RNGs, the initial states of successive streams will be spaced equally, by Z steps in the RNG sequence. The type and size of the baseState parameter depends on the type of RNG. The base state always has a default value, so this function does not need to be invoked.</p>
<table border="1" class="docutils">
<colgroup>
<col width="13%" />
<col width="19%" />
<col width="68%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">In/out</th>
<th class="head">Parameters</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>[in,out]</td>
<td>creator</td>
<td>Stream creator object.</td>
</tr>
<tr class="row-odd"><td>[in]</td>
<td>baseState</td>
<td>New initial base stream state. Can be set to NULL
to use the library default.</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>Returns,</dt>
<dd>Error status</dd>
</dl>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">It is recommended to use the library default base state.</p>
</div>
</div>
<div class="section" id="hcrngchangestreamsspacing">
<h3>2.1.5.5. hcrngChangeStreamsSpacing()<a class="headerlink" href="#hcrngchangestreamsspacing" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><div class="highlight"><pre>hcrngStatus hcrngChangeStreamsSpacing ( hcrngStreamCreator *   creator,
                                         int   e,
                                         int   c
                                      )
</pre></div>
</div>
<p>Change the spacing between successive streams.</p>
<p>This function should be used only in exceptional circumstances. It changes the spacing Z between the initial states of the successive streams from the default value to Z=2e+c if e&gt;0, or to Z=c if e=0. One must have e≥0 but c can take negative values. The default spacing values have been carefully selected for each RNG to avoid overlap and dependence between streams, and it is highly recommended not to change them.</p>
<table border="1" class="docutils">
<colgroup>
<col width="13%" />
<col width="19%" />
<col width="68%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">In/out</th>
<th class="head">Parameters</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>[in,out]</td>
<td>creator</td>
<td>Stream creator object.</td>
</tr>
<tr class="row-odd"><td>[in]</td>
<td>e</td>
<td>Value of e.</td>
</tr>
<tr class="row-even"><td>[in]</td>
<td>c</td>
<td>Value of c.</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>Returns,</dt>
<dd>Error status</dd>
</dl>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">It is recommended to use the library default spacing and not to invoke this function.</p>
</div>
</div>
<div class="section" id="hcrngallocstreams">
<h3>2.1.5.6. hcrngAllocStreams()<a class="headerlink" href="#hcrngallocstreams" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><div class="highlight"><pre>hcrngStream* hcrngAllocStreams ( size_t        count,
                                 size_t *      bufSize,
                                 hcrngStatus *         err
                               )
</pre></div>
</div>
<p>Reserve memory space for count stream objects, without creating the stream objects. Returns a pointer to the allocated buffer and returns in bufSize the size of the allocated buffer, in bytes.</p>
<table border="1" class="docutils">
<colgroup>
<col width="13%" />
<col width="19%" />
<col width="68%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">In/out</th>
<th class="head">Parameters</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>[in]</td>
<td>count</td>
<td>Number of stream objects to allocate.</td>
</tr>
<tr class="row-odd"><td>[out]</td>
<td>bufSize</td>
<td>Size in bytes of the allocated buffer, or NULL if not needed.</td>
</tr>
<tr class="row-even"><td>[out]</td>
<td>err</td>
<td>Error status variable, or NULL.</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>Returns,</dt>
<dd>Pointer to the newly allocated buffer.</dd>
</dl>
</div>
<div class="section" id="hcrngdestroystreams">
<h3>2.1.5.7. hcrngDestroyStreams()<a class="headerlink" href="#hcrngdestroystreams" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><div class="highlight"><pre>hcrngStatus hcrngDestroyStreams ( hcrngStream*  streams )
</pre></div>
</div>
<p>Destroy one or many stream objects. Release the memory space taken by those stream objects.</p>
<table border="1" class="docutils">
<colgroup>
<col width="13%" />
<col width="19%" />
<col width="68%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">In/out</th>
<th class="head">Parameters</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>[in,out]</td>
<td>streams</td>
<td>Stream object buffer to be released.</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>Returns,</dt>
<dd>Error status</dd>
<dt>Examples:</dt>
<dd><a class="reference external" href="Multistream.cpp.html">Multistream.cpp</a>, and <a class="reference external" href="Randomarray.cpp.html">RandomArray.cpp</a>.</dd>
</dl>
</div>
<div class="section" id="hcrngcreatestreams">
<h3>2.1.5.8. hcrngCreateStreams()<a class="headerlink" href="#hcrngcreatestreams" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><div class="highlight"><pre>hcrngStream* hcrngCreateStreams ( hcrngStreamCreator *         creator,
                                  size_t       count,
                                  size_t *     bufSize,
                                  hcrngStatus *        err
                                )
</pre></div>
</div>
<p>Allocate memory for and create new RNG stream objects.</p>
<p>Create and return an array of count new streams using the specified creator. This function also reserves the memory space required for the structures and initializes the stream states. It returns in bufSize the size of the allocated buffer, in bytes. To use the default creator, put NULL as the creator parameter. To create a single stream, just put set count to 1.</p>
<table border="1" class="docutils">
<colgroup>
<col width="13%" />
<col width="18%" />
<col width="69%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">In/out</th>
<th class="head">Parameters</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>[in,out]</td>
<td>creator</td>
<td>Stream creator object, or NULL to use the default stream creator.</td>
</tr>
<tr class="row-odd"><td>[in]</td>
<td>count</td>
<td>Size of the array (use 1 for a single stream object).</td>
</tr>
<tr class="row-even"><td>[out]</td>
<td>bufSize</td>
<td>Size in bytes of the allocated buffer, or NULL if not needed.</td>
</tr>
<tr class="row-odd"><td>[out]</td>
<td>err</td>
<td>Error status variable, or NULL.</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>Returns,</dt>
<dd>The newly created array of stream object.</dd>
<dt>Examples:</dt>
<dd><a class="reference external" href="Multistream.cpp.html">Multistream.cpp</a>, and <a class="reference external" href="Randomarray.cpp.html">RandomArray.cpp</a>.</dd>
</dl>
</div>
<div class="section" id="hcrngcreateoverstreams">
<h3>2.1.5.9. hcrngCreateOverStreams()<a class="headerlink" href="#hcrngcreateoverstreams" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><div class="highlight"><pre>hcrngStatus hcrngCreateOverStreams ( hcrngStreamCreator *      creator,
                                     size_t    count,
                                     hcrngStream *     streams
                                   )
</pre></div>
</div>
<p>Create new RNG stream objects in already allocated memory.</p>
<p>This function is similar to hcrngCreateStreams(), except that it does not reserve memory for the structure. It creates the array of new streams in the preallocated streams buffer, which could have been reserved earlier via either hcrngAllocStreams() or hcrngCreateStreams(). It permits the client to reuse memory that was previously allocated for other streams.</p>
<table border="1" class="docutils">
<colgroup>
<col width="13%" />
<col width="18%" />
<col width="69%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">In/out</th>
<th class="head">Parameters</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>[in,out]</td>
<td>creator</td>
<td>Stream creator object, or NULL to use the default stream creator.</td>
</tr>
<tr class="row-odd"><td>[in]</td>
<td>count</td>
<td>Size of the array (use 1 for a single stream object).</td>
</tr>
<tr class="row-even"><td>[out]</td>
<td>streams</td>
<td>Buffer in which the new stream(s) will be stored.</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>Returns,</dt>
<dd>Error status</dd>
</dl>
</div>
<div class="section" id="hcrngcopystreams">
<h3>2.1.5.10. hcrngCopyStreams()<a class="headerlink" href="#hcrngcopystreams" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><div class="highlight"><pre>hcrngStream* hcrngCopyStreams ( size_t         count,
                                const hcrngStream *    streams,
                                hcrngStatus *          err
                              )
</pre></div>
</div>
<p>Clone RNG stream objects. Create an identical copy (a clone) of each of the count stream objects in the array streams. This function allocates memory for all the new structures before cloning, and returns a pointer to the new structure.</p>
<table border="1" class="docutils">
<colgroup>
<col width="12%" />
<col width="17%" />
<col width="72%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">In/out</th>
<th class="head">Parameters</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>[in]</td>
<td>count</td>
<td>Number of random number in the array (use 1 for a single stream object).</td>
</tr>
<tr class="row-odd"><td>[in]</td>
<td>streams</td>
<td>Stream object or array of stream objects to be cloned.</td>
</tr>
<tr class="row-even"><td>[out]</td>
<td>err</td>
<td>Error status variable, or NULL.</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>Returns,</dt>
<dd>The newly created stream object or array of stream objects.</dd>
</dl>
</div>
<div class="section" id="hcrngcopyoverstreams">
<h3>2.1.5.11. hcrngCopyOverStreams()<a class="headerlink" href="#hcrngcopyoverstreams" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><div class="highlight"><pre>hcrngStatus hcrngCopyOverStreams ( size_t      count,
                                   hcrngStream *       destStreams,
                                   const hcrngStream *         srcStreams
                                 )
</pre></div>
</div>
<p>Copy RNG stream objects in already allocated memory [device]. Copy (or restore) the stream objects srcStreams into the buffer destStreams, and each of the count stream objects from the array srcStreams into the buffer destStreams. This function does not allocate memory for the structures in destStreams; it assumes that this has already been done.</p>
<table border="1" class="docutils">
<colgroup>
<col width="12%" />
<col width="17%" />
<col width="72%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">In/out</th>
<th class="head">Parameters</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>[in]</td>
<td>count</td>
<td>Number of stream objects to copy (use 1 for a single stream object).</td>
</tr>
<tr class="row-odd"><td>[out]</td>
<td>destStreams</td>
<td>Destination buffer into which to copy (its content will be overwritten).</td>
</tr>
<tr class="row-even"><td>[in]</td>
<td>srcStreams</td>
<td>Stream object or array of stream objects to be copied.</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>Returns,</dt>
<dd>Error status</dd>
</dl>
</div>
<div class="section" id="hcrngrandomu01">
<h3>2.1.5.12. hcrngRandomU01()<a class="headerlink" href="#hcrngrandomu01" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><div class="highlight"><pre>double hcrngRandomU01 ( hcrngStream *  stream  )
</pre></div>
</div>
<p>Generate the next random value in (0,1) [device]. Generate and return a (pseudo)random number from the uniform distribution over the interval (0,1), using stream. If this stream is from an RNG, the stream state is advanced by one step before producing the (pseudo)random number. By default, the returned value is of type double. But if the option HCRNG_SINGLE_PRECISION is defined, the returned value will be of type float. Setting this option changes the type of the returned value for all RNGs and all functions that use hcrngRandomU01().</p>
<table border="1" class="docutils">
<colgroup>
<col width="13%" />
<col width="19%" />
<col width="68%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">In/out</th>
<th class="head">Parameters</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>[in,out]</td>
<td>stream</td>
<td>Stream used to generate the random value.</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>Returns,</dt>
<dd>A random floating-point value uniformly distributed in (0,1)</dd>
<dt>Examples:</dt>
<dd><a class="reference external" href="Multistream.cpp.html">Multistream.cpp</a>, and <a class="reference external" href="Randomarray.cpp.html">RandomArray.cpp</a>.</dd>
</dl>
</div>
<div class="section" id="hcrngrandominteger">
<h3>2.1.5.13. hcrngRandomInteger()<a class="headerlink" href="#hcrngrandominteger" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><div class="highlight"><pre>int hcrngRandomInteger ( hcrngStream *         stream,
                         int   i,
                         int   j
                       )
</pre></div>
</div>
<p>Generate the next random integer value [device]. Generate and return a (pseudo)random integer from the discrete uniform distribution over the integers {i,…,j}, using stream, by calling hcrngRandomU01() once and transforming the output by inversion. That is, it returns i + (int)((j-i+1) * hcrngRandomU01(stream)).</p>
<table border="1" class="docutils">
<colgroup>
<col width="13%" />
<col width="19%" />
<col width="68%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">In/out</th>
<th class="head">Parameters</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>[in,out]</td>
<td>stream</td>
<td>Stream used to generate the random value.</td>
</tr>
<tr class="row-odd"><td>[in]</td>
<td>i</td>
<td>Smallest integer value (inhcusive).</td>
</tr>
<tr class="row-even"><td>[in]</td>
<td>j</td>
<td>Largest integer value (inhcusive).</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>Returns,</dt>
<dd>A random integer value uniformly distributed in {i,…,j}.</dd>
</dl>
</div>
<div class="section" id="hcrngrandomu01array">
<h3>2.1.5.14. hcrngRandomU01Array()<a class="headerlink" href="#hcrngrandomu01array" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><div class="highlight"><pre>hcrngStatus hcrngRandomU01Array ( hcrngStream *        stream,
                                  size_t       count,
                                  double *     buffer
                                )
</pre></div>
</div>
<p>Fill an array with successive random values in (0,1) [device].Fill preallocated buffer with count successive (pseudo)random numbers. Equivalent to calling hcrngRandomU01() count times to fill the buffer. If HCRNG_SINGLE_PRECISION is defined, the buffer argument is of type float and will be filled by count values of type float instead.</p>
<table border="1" class="docutils">
<colgroup>
<col width="13%" />
<col width="19%" />
<col width="68%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">In/out</th>
<th class="head">Parameters</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>[in,out]</td>
<td>stream</td>
<td>Stream used to generate the random values.</td>
</tr>
<tr class="row-odd"><td>[in]</td>
<td>count</td>
<td>Number of values in the array.</td>
</tr>
<tr class="row-even"><td>[out]</td>
<td>buffer</td>
<td>Destination buffer (must be pre-allocated).</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>Returns,</dt>
<dd>Error status</dd>
</dl>
</div>
<div class="section" id="hcrngrandomintegerarray">
<h3>2.1.5.15. hcrngRandomIntegerArray()<a class="headerlink" href="#hcrngrandomintegerarray" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><div class="highlight"><pre>hcrngStatus hcrngRandomIntegerArray ( hcrngStream *    stream,
                                      int      i,
                                      int      j,
                                      size_t   count,
                                      int *    buffer
                                    )
</pre></div>
</div>
<p>Fill an array with successive random integer values [device].Same as hcrngRandomU01Array(), but for integer values in {i,…,j}. Equivalent to calling hcrngRandomInteger() count times to fill the buffer.</p>
<table border="1" class="docutils">
<colgroup>
<col width="13%" />
<col width="19%" />
<col width="68%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">In/out</th>
<th class="head">Parameters</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>[in,out]</td>
<td>stream</td>
<td>Stream used to generate the random values.</td>
</tr>
<tr class="row-odd"><td>[in]</td>
<td>i</td>
<td>Smallest integer value (inhcusive).</td>
</tr>
<tr class="row-even"><td>[in]</td>
<td>j</td>
<td>Largest integer value (inhcusive).</td>
</tr>
<tr class="row-odd"><td>[in]</td>
<td>count</td>
<td>Number of values in the array.</td>
</tr>
<tr class="row-even"><td>[out]</td>
<td>buffer</td>
<td>Destination buffer (must be pre-allocated).</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>Returns,</dt>
<dd>Error status</dd>
</dl>
</div>
<div class="section" id="hcrngrewindstreams">
<h3>2.1.5.16. hcrngRewindStreams()<a class="headerlink" href="#hcrngrewindstreams" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><div class="highlight"><pre>hcrngStatus hcrngRewindStreams ( size_t        count,
                                 hcrngStream *         streams
                               )
</pre></div>
</div>
<p>Reinitialize streams to their initial states [device]. Reinitialize all the streams in streams to their initial states. The current substream also becomes the initial one.</p>
<table border="1" class="docutils">
<colgroup>
<col width="12%" />
<col width="16%" />
<col width="72%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">In/out</th>
<th class="head">Parameters</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>[in]</td>
<td>count</td>
<td>Number of stream objects in the array (use 1 for a single stream object).</td>
</tr>
<tr class="row-odd"><td>[in,out]</td>
<td>streams</td>
<td>Stream object or array of stream objects to be reset to the
start of the stream(s).</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>Returns,</dt>
<dd>Error status</dd>
</dl>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This function can be slow on the device, because it reads the initial state from global memory.</p>
</div>
</div>
<div class="section" id="hcrngrewindsubstreams">
<h3>2.1.5.17. hcrngRewindSubstreams()<a class="headerlink" href="#hcrngrewindsubstreams" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><div class="highlight"><pre>hcrngStatus hcrngRewindSubstreams ( size_t     count,
                                    hcrngStream *      streams
                                   )
</pre></div>
</div>
<p>Reinitialize streams to their initial substream states [device]. Reinitialize all the streams in streams to the initial states of their current substream.</p>
<table border="1" class="docutils">
<colgroup>
<col width="12%" />
<col width="16%" />
<col width="72%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">In/out</th>
<th class="head">Parameters</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>[in]</td>
<td>count</td>
<td>Number of stream objects in the array (use 1 for a single stream object).</td>
</tr>
<tr class="row-odd"><td>[in,out]</td>
<td>streams</td>
<td>Stream object or array of stream objects to be reset to the beginning
of the current substream(s).</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>Returns,</dt>
<dd>Error status</dd>
<dt>Examples:</dt>
<dd><a class="reference external" href="Multistream.cpp.html">Multistream.cpp</a></dd>
</dl>
</div>
<div class="section" id="hcrngforwardtonextsubstreams">
<h3>2.1.5.18. hcrngForwardToNextSubstreams()<a class="headerlink" href="#hcrngforwardtonextsubstreams" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><div class="highlight"><pre>hcrngStatus hcrngForwardToNextSubstreams ( size_t      count,
                                           hcrngStream *       streams
                                         )
</pre></div>
</div>
<p>Advance streams to the next substreams [device]. Reinitialize all the streams in streams to the initial states of their next substream. The current states and the initial states of the current substreams are changed.</p>
<table border="1" class="docutils">
<colgroup>
<col width="11%" />
<col width="15%" />
<col width="74%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">In/out</th>
<th class="head">Parameters</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>[in]</td>
<td>count</td>
<td>Number of stream objects in the array (use 1 for a single stream object).</td>
</tr>
<tr class="row-odd"><td>[in,out]</td>
<td>streams</td>
<td>Stream object or array of stream objects to be advanced to the next substream(s)</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>Returns,</dt>
<dd>Error status</dd>
<dt>Examples:</dt>
<dd><a class="reference external" href="Multistream.cpp.html">Multistream.cpp</a></dd>
</dl>
</div>
<div class="section" id="hcrngmakesubstreams">
<h3>2.1.5.19. hcrngMakeSubstreams()<a class="headerlink" href="#hcrngmakesubstreams" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><div class="highlight"><pre>hcrngStream* hcrngMakeSubstreams ( hcrngStream *       stream,
                                   size_t      count,
                                   size_t *    bufSize,
                                   hcrngStatus *       err
                                 )
</pre></div>
</div>
<p>Allocate and make an array of substreams of a stream.</p>
<p>Make and return an array of count copies of stream, whose current (and initial substream) states are the initial states of count successive substreams of stream. The first substream in the returned array is simply a copy of stream. This function also reserves the memory space required for the structures and initializes the stream states. It returns in bufSize the size of the allocated buffer, in bytes. To create a single stream, just set count to 1. When this function is invoked, the substream state and initial state of stream are advanced by count substreams.</p>
</div>
<div class="section" id="hcrngmakeoversubstreams">
<h3>2.1.5.20. hcrngMakeOverSubstreams()<a class="headerlink" href="#hcrngmakeoversubstreams" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><div class="highlight"><pre>hcrngStatus hcrngMakeOverSubstreams ( hcrngStream *    stream,
                                      size_t   count,
                                      hcrngStream *    substreams
                                    )
</pre></div>
</div>
<p>Make an array of substreams of a stream.</p>
<p>This function is similar to hcrngMakeStreams(), except that it does not reserve memory for the structure. It creates the array of new streams in the preallocated substreams buffer, which could have been reserved earlier via either hcrngAllocStreams(), hcrngMakeSubstreams() or hcrngCreateStreams(). It permits the client to reuse memory that was previously allocated for other streams.</p>
</div>
<div class="section" id="hcrngadvancestreams">
<h3>2.1.5.21. hcrngAdvanceStreams()<a class="headerlink" href="#hcrngadvancestreams" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><div class="highlight"><pre>hcrngStatus hcrngAdvanceStreams ( size_t       count,
                                  hcrngStream *        streams,
                                  int          e,
                                  int          c
                                )
</pre></div>
</div>
<p>Advance the state of streams by many steps.</p>
<p>This function should be used only in very exceptional circumstances. It advances the state of the streams in array streams by k steps, without modifying the states of other streams, nor the initial stream and substream states for those streams. If e&gt;0, then k=2e+c; if e&lt;0, then k=−2|e|+c; and if e=0, then k=c. Note that c can take negative values. We discourage the use of this procedure to customize the length of streams and substreams. It is better to use the default spacing, which has been carefully selected for each RNG type.</p>
<table border="1" class="docutils">
<colgroup>
<col width="12%" />
<col width="16%" />
<col width="72%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">In/out</th>
<th class="head">Parameters</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>[in]</td>
<td>count</td>
<td>Number of stream objects in the array (use 1 for a single stream object).</td>
</tr>
<tr class="row-odd"><td>[in,out]</td>
<td>streams</td>
<td>Stream object or array of stream objects to be advanced.</td>
</tr>
<tr class="row-even"><td>[in]</td>
<td>e</td>
<td>Value of e.</td>
</tr>
<tr class="row-odd"><td>[in]</td>
<td>c</td>
<td>Value of c.</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>Returns,</dt>
<dd>Error status</dd>
</dl>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Check the implementation for all cases e&gt;0, e=0 and e&lt;0.</p>
</div>
</div>
<div class="section" id="hcrngdevicerandomu01array">
<h3>2.1.5.22. hcrngDeviceRandomU01Array()<a class="headerlink" href="#hcrngdevicerandomu01array" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><div class="highlight"><pre>hcrngStatus hcrngDeviceRandomU01Array_single ( hc::accelerator_view &amp;accl_view,
                                               size_t              streamCount,
                                               hcrngStream*         streams,
                                               size_t               numberCount,
                                               float*               outBuffer,
                                               int                  streamlength = 0,
                                               size_t               streams_per_thread = 1 )
hcrngStatus hcrngDeviceRandomU01Array_double ( hc::accelerator_view &amp;accl_view,
                                               size_t              streamCount,
                                               hcrngStream*         streams,
                                               size_t               numberCount,
                                               double*              outBuffer,
                                               int                  streamlength = 0,
                                               size_t               streams_per_thread = 1 )
</pre></div>
</div>
<p>Fill a buffer of random numbers.</p>
<p>Fill the buffer pointed to by outBuffer with numberCount uniform random numbers of type double (or of type float if HCRNG_SINGLE_PRECISION is defined), using streamCount work items. In the current implementation, numberCount must be a multiple of streamCount. It is adviced to call the kernel depending on the type of output buffer. Kernels of type float and double has suffixes &#8220;_single&#8221; and &#8220;_double&#8221; respectively.</p>
<table border="1" class="docutils">
<colgroup>
<col width="10%" />
<col width="18%" />
<col width="72%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">In/out</th>
<th class="head">Parameters</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>[in]</td>
<td>accl_view</td>
<td><a class="reference external" href="https://msdn.microsoft.com/en-us/library/hh873132.aspx">Using accelerator and accelerator_view Objects</a></td>
</tr>
<tr class="row-odd"><td>[in]</td>
<td>streamCount</td>
<td>Number of streams in stream_array.</td>
</tr>
<tr class="row-even"><td>[in]</td>
<td>streams</td>
<td>HCC device pointer that contains an array of stream objects.</td>
</tr>
<tr class="row-odd"><td>[in]</td>
<td>numberCount</td>
<td>Number of random number to store in the device pointer.</td>
</tr>
<tr class="row-even"><td>[out]</td>
<td>outBuffer</td>
<td>HCC device pointer in which the generated numbers will be stored.</td>
</tr>
<tr class="row-odd"><td>[in]</td>
<td>stream_length</td>
<td>[Default argument] The length of the subtsream.
stream_length       = 0   ( do not use substreams )
stream_length       = &gt; 0 ( go to next substreams after stream_length values)
stream_length       = &lt; 0 ( restart substream after stream_length values )</td>
</tr>
<tr class="row-even"><td>[in]</td>
<td>streams_per_thread</td>
<td>[Default argument] Number of streams a thread should handle. Must be a multiple
of streamCount.</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>Returns,</dt>
<dd>Error status</dd>
<dt>Examples:</dt>
<dd><a class="reference external" href="Multistream.cpp.html">Multistream.cpp</a>, and <a class="reference external" href="Randomarray.cpp.html">RandomArray.cpp</a>.</dd>
</dl>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">In the current implementation, numberCount must be a multiple of streamCount and streams_per_thread must be a multiple of streamCount. The array streams is left unchanged, as there is no write-back from the device code. stream_length and streams_per_thread are default arguments and can be used for multistream random number generation.</p>
</div>
</div>
<div class="section" id="hcrngwritestreaminfo">
<h3>2.1.5.23. hcrngWriteStreamInfo()<a class="headerlink" href="#hcrngwritestreaminfo" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><div class="highlight"><pre>hcrngStatus hcrngWriteStreamInfo ( const hcrngStream *         stream,
                                   FILE *      file
                                 )
</pre></div>
</div>
<p>Format and output information about a stream object to a file.</p>
<table border="1" class="docutils">
<colgroup>
<col width="12%" />
<col width="16%" />
<col width="72%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">In/out</th>
<th class="head">Parameters</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>[in]</td>
<td>stream</td>
<td>Stream object about which to write information.</td>
</tr>
<tr class="row-odd"><td>[in]</td>
<td>file</td>
<td>File to which to output. Can be set to stdout or stderr
for standard output and error.</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>Returns,</dt>
<dd>Error status</dd>
</dl>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="DataStructures.html" class="btn btn-neutral float-right" title="2.2. hcRNG TYPES" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="API_reference.html" class="btn btn-neutral" title="2. hcRNG API Reference" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, MulticoreWare.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:' ',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>